<h1>Create User</h1>

<form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
    <div>
        <label for="name">First Name<span>*</span>:</label>
        <input
            type="text"
            name="name"
            id="name"
            placeholder="Enter first name"
            [(ngModel)]="user.name"
            required
            #nameRef="ngModel"
        />
        @if (checkFieldStatus(nameRef)) {
            <p class="error">Name is necessarily !</p>
        }
    </div>

    <div>
        <label for="lastName">Last Name<span>*</span>:</label>
        <input
            type="text"
            name="lastName"
            id="lastName"
            placeholder="Enter last name"
            [(ngModel)]="user.lastName" required
            #lastNameRef="ngModel"
        />
        @if (checkFieldStatus(lastNameRef)) {
            <p class="error">Last name is necessarily !</p>
        }
    </div>

    <div>
        <label for="email">Email<span>*</span>:</label>
        <input
            type="email"
            name="email"
            id="email"
            placeholder="Enter email"
            [(ngModel)]="user.email" required
            email
            #emailRef="ngModel"
        />
        @if (checkFieldStatus(emailRef)) {
            <p class="error">Email is invalid !</p>
        }
    </div>

    <div>
        <label class="default">Gender:</label>
        <div>
            <label
                ><input
                    type="radio"
                    name="gender"
                    value="male"
                    [(ngModel)]="user.gender" 
                />
                Male</label
            >

            <label
                ><input
                    type="radio"
                    name="gender"
                    value="female"
                    [(ngModel)]="user.gender"
                />
                Female</label
            >
        </div>
    </div>

    <div>
        <label class="default">Country:</label>
        <select name="country" [(ngModel)]="user.country" required>
            <option value="ru">Poland</option>
            <option value="us">USA</option>
            <option value="de">Germany</option>
        </select>
    </div>

    <div>
        <label for="comment">Comment:</label>
        <textarea
            name="comment"
            id="comment"
            placeholder="Enter comment"
            [(ngModel)]="user.comment"
        ></textarea>
    </div>

    <div>
        <label>
            <input
                type="checkbox"
                name="agree"
                [(ngModel)]="user.agree" required
                #agreeRef="ngModel"
            />
            I agree to the Terms of Use<span>*</span>
        </label>
        @if (agreeRef.invalid) {
            <p class="error">You must confirm your consent !</p>
        }
    </div>
    <div class="buttons">
        <button type="submit">Create</button>
        <button type="button" (click)="userForm.resetForm(initialUser)">Reset</button>
    </div>
</form>
